<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
  p {
    display: block;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    unicode-bidi: isolate;
  }
</style>
</head>

<body>
<h1>Calculator</h1>
  <p class="js-type"></p>

  <p>
    <button onclick="updateCalculation('1');">1</button>
    <button onclick="updateCalculation('2');">2</button>
    <button onclick="updateCalculation('3');">3</button>
    <button onclick="updateCalculation('+');">+</button>
  </p>
  <p>
    <button onclick="updateCalculation('4');">4</button>
    <button onclick="updateCalculation('5');">5</button>
    <button onclick="updateCalculation('6');">6</button>
    <button onclick="updateCalculation('-');">-</button>
  </p>  
  <p>
    <button onclick="updateCalculation('7');">7</button>
    <button onclick="updateCalculation('8');">8</button>
    <button onclick="updateCalculation('9');">9</button>
    <button onclick="updateCalculation('*');">*</button>
  </p>
  <p>
    <button onclick="updateCalculation('0');">0</button>
    <button onclick="updateCalculation('.');">.</button>
    <button onclick="calculateResult();">=</button>
    <button onclick="updateCalculation('/');">/</button>
  </p>
  <p>
    <button onclick="clearCalculation();">Clear</button>
  </p>

  <script>
    let calculation = localStorage.getItem('calculation') || '';
    
    // Display stored value immediately on load
    displayCalculation();

    function updateCalculation(value) {
      calculation += value;
      saveAndDisplay();
    }

    function calculateResult() {
      if (!calculation) return;
      calculation = eval(calculation);
      calculation = String(calculation);
      saveAndDisplay();
    }

    function clearCalculation() {
      calculation = '';
      saveAndDisplay();
    }

    function saveAndDisplay() {
      localStorage.setItem('calculation', calculation);
      displayCalculation();
    }

    function displayCalculation() {
      document.querySelector('.js-type').innerHTML = calculation || '0';
    }
  </script>
</body>

</html>